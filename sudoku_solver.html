<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Sudoku Solver</title>
<style>
  body {
    font-family: Arial, sans-serif;
    margin: 20px;
    display: flex;
    flex-direction: column;
    align-items: center;
    background-image: url(create\ a\ background\ image\ for\ the\ sudoku\ solver\ having\ a\ mathematic\ theme\ with\ light\ colors.jpg);
  }
  #sudoku-container {
    display: grid;
    grid-template-columns: repeat(9, 40px);
    grid-template-rows: repeat(9, 40px);
    gap: 2px;
    margin-bottom: 20px;
  }
  input[type="number"] {
    width: 38px;
    height: 38px;
    font-size: 20px;
    text-align: center;
    border: 1px solid #999;
    outline: none;
  }
  input[type="number"]:focus {
    border-color: #007BFF;
    box-shadow: 0 0 5px #007BFF;
  }

  #sudoku-container {
  display: grid;
  grid-template-columns: repeat(9, 40px);
  grid-template-rows: repeat(9, 40px);
  gap: 0; /* no gaps, crisp borders */
}

#sudoku-container input {
  width: 40px;
  height: 40px;
  text-align: center;
  font-size: 20px;
  border: 1px solid #999; /* thin default border */
  box-sizing: border-box;
}

/* Thicker borders for outer edges */
#sudoku-container input:nth-child(-n + 9) {
  border-top: 3px solid black; /* top row */
}
#sudoku-container input:nth-child(n + 73) {
  border-bottom: 3px solid black; /* bottom row */
}
#sudoku-container input:nth-child(9n + 1) {
  border-left: 3px solid black; /* first column */
}
#sudoku-container input:nth-child(9n) {
  border-right: 3px solid black; /* last column */
}

/* Thicker vertical borders after every 3rd column */
/* Columns 3 and 6 have right thick border */
#sudoku-container input:nth-child(3n) {
  border-right: 3px solid black;
}

/* Thicker horizontal borders after every 3rd row */
/* Rows 3 and 6 get bottom thick border */
#sudoku-container input:nth-child(n + 1):nth-child(-n + 27),
#sudoku-container input:nth-child(n + 1):nth-child(-n + 54) {
  border-bottom: none; /* reset conflicting borders */
}

/* Apply thick bottom border to last cells of 3rd and 6th rows */
#sudoku-container input:nth-child(n + 19):nth-child(-n + 27),
#sudoku-container input:nth-child(n + 46):nth-child(-n + 54) {
  border-bottom: 3px solid black;
}


  button {
    font-size: 16px;
    padding: 10px 20px;
    cursor: pointer;
    margin-right: 10px;
  }
  #controls {
    display: flex;    
  }

  #controls {
  display: flex;
  gap: 15px;
  margin-top: 10px;
}

button {
  background: linear-gradient(135deg, #4a90e2, #357ABD);
  color: white;
  font-weight: 600;
  font-size: 16px;
  padding: 12px 28px;
  border: none;
  border-radius: 8px;
  box-shadow: 0 6px 12px rgba(53, 122, 189, 0.5);
  cursor: pointer;
  transition: background 0.3s ease, box-shadow 0.3s ease, transform 0.15s ease;
  user-select: none;
}

button:hover {
  background: linear-gradient(135deg, #357ABD, #2a5d8f);
  box-shadow: 0 8px 18px rgba(42, 93, 143, 0.7);
  transform: translateY(-2px);
}

button:active {
  background: linear-gradient(135deg, #2a5d8f, #22618b);
  box-shadow: 0 4px 8px rgba(34, 97, 139, 0.6);
  transform: translateY(0);
}

button:focus {
  outline: none;
  box-shadow: 0 0 8px 3px rgba(53, 122, 189, 0.8);
}

/* Optionally differentiate Clear button with a different color */
#clear-btn {
  background: linear-gradient(135deg, #e24a4a, #b83535);
  box-shadow: 0 6px 12px rgba(184, 53, 53, 0.5);
}

#clear-btn:hover {
  background: linear-gradient(135deg, #b83535, #902828);
  box-shadow: 0 8px 18px rgba(144, 40, 40, 0.7);
}

#clear-btn:active {
  background: linear-gradient(135deg, #902828, #7d2121);
  box-shadow: 0 4px 8px rgba(125, 33, 33, 0.6);
}

</style>
</head>
<body>

<h1>Sudoku Solver</h1>
<div id="sudoku-container"></div>
<div id="controls">
  <button id="solve-btn">Solve</button>
  <button id="clear-btn">Clear</button>
</div>

<script>
  const container = document.getElementById("sudoku-container");

  // Create 81 input cells for Sudoku Grid
  for (let i = 0; i < 81; i++) {
    const input = document.createElement("input");
    input.type = "number";
    input.min = 1;
    input.max = 9;
    input.maxLength = 1;
    input.id = `cell-${i}`;
    input.autocomplete = "off";

    // Prevent entering invalid input except 1-9
    input.addEventListener("input", (e) => {
      let val = e.target.value;
      if (val === "") return;
      val = val.replace(/[^1-9]/g, "");
      if (val.length > 1) val = val[0];
      e.target.value = val;
    });

    container.appendChild(input);
  }

  // Check if placing num in board[row][col] is valid
  function isSafe(board, row, col, num) {
    for (let x = 0; x < 9; x++) {
      if (board[row][x] === num) return false;
      if (board[x][col] === num) return false;
      if (board[3 * Math.floor(row / 3) + Math.floor(x / 3)][3 * Math.floor(col / 3) + x % 3] === num)
        return false;
    }
    return true;
  }

  // Backtracking solver
  function solveSudoku(board) {
    for (let row = 0; row < 9; row++) {
      for (let col = 0; col < 9; col++) {
        if (board[row][col] === 0) {
          for (let num = 1; num <= 9; num++) {
            if (isSafe(board, row, col, num)) {
              board[row][col] = num;
              if (solveSudoku(board)) return true;
              board[row][col] = 0;
            }
          }
          return false;
        }
      }
    }
    return true;
  }

  // Read current board state from input fields
  function getBoard() {
    const board = [];
    for (let row = 0; row < 9; row++) {
      board[row] = [];
      for (let col = 0; col < 9; col++) {
        const val = document.getElementById(`cell-${row * 9 + col}`).value;
        board[row][col] = val === "" ? 0 : parseInt(val, 10);
      }
    }
    return board;
  }

  // Write solved board back to input fields
  function setBoard(board) {
    for (let row = 0; row < 9; row++) {
      for (let col = 0; col < 9; col++) {
        document.getElementById(`cell-${row * 9 + col}`).value = board[row][col] === 0 ? "" : board[row][col];
      }
    }
  }

  // Solve button event
  document.getElementById("solve-btn").addEventListener("click", () => {
    const board = getBoard();
    if (solveSudoku(board)) {
      setBoard(board);
    } else {
      alert("No solution exists for the given sudoku.");
    }
  });

  // Clear button event
  document.getElementById("clear-btn").addEventListener("click", () => {
    for (let i = 0; i < 81; i++) {
      document.getElementById(`cell-${i}`).value = "";
    }
  });
</script>

</body>
</html>
